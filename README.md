CREATE TABLE FUNCIONARIO (
  CPF_FUNCIONARIO CHAR(11) NOT NULL,
  NOME_FUNCIONARIO VARCHAR(100) NOT NULL,
  TELEFONE_FUNCIONARIO VARCHAR(100) NOT NULL,
  RUA_FUNCIONARIO VARCHAR(100) NOT NULL,
  NUMERO_CASA INT NOT NULL,
  COMPLEMENTO VARCHAR(100),
  PRIMARY KEY (CPF_FUNCIONARIO)
);

CREATE TABLE EMAIL_FUNCIONARIO (
  CPF_FUNCIONARIO CHAR(11) NOT NULL,
  EMAIL_FUNCIONARIO VARCHAR(100) NOT NULL,
  PRIMARY KEY (CPF_FUNCIONARIO, EMAIL_FUNCIONARIO),
  FOREIGN KEY (CPF_FUNCIONARIO) REFERENCES FUNCIONARIO (CPF_FUNCIONARIO)
);

CREATE TABLE PRODUTO (
  CODIGO_PRODUTO INT NOT NULL,
  NOME_PRODUTO VARCHAR(100) NOT NULL,
  TIPO_PRODUTO VARCHAR(100) NOT NULL,
  PRECO_PRODUTO DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (CODIGO_PRODUTO)
);

CREATE TABLE COMANDA (
  NUMERO_COMANDA INT NOT NULL,
  SITUACAO_COMANDA ENUM('ABERTA', 'FECHADA', 'CANCELADA') NOT NULL DEFAULT 'ABERTA',
  PRIMARY KEY (NUMERO_COMANDA)
);

CREATE TABLE REGISTRA (
  NUMERO_COMANDA INT NOT NULL,
  CPF_FUNCIONARIO CHAR(11) NOT NULL,
  CODIGO_PRODUTO INT NOT NULL,
  DATA_HORA_REGISTRO DATETIME NOT NULL,
  QUANTIDADE INT NOT NULL,
  PRECO_COBRADO DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (NUMERO_COMANDA, CPF_FUNCIONARIO, CODIGO_PRODUTO, DATA_HORA_REGISTRO),
  FOREIGN KEY (NUMERO_COMANDA) REFERENCES COMANDA (NUMERO_COMANDA),
  FOREIGN KEY (CPF_FUNCIONARIO) REFERENCES FUNCIONARIO (CPF_FUNCIONARIO),
  FOREIGN KEY (CODIGO_PRODUTO) REFERENCES PRODUTO (CODIGO_PRODUTO)
);
